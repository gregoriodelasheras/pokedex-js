let pokemonRepository=function(){let e;function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.error("The Pok√©mon data could not be loaded. Professor Oaks team will fix the problem as soon as possible.")}function o(e){$(".modal-title").empty(),$(".modal-body").empty(),a(e).then(function(){let t=e.id<10?`#00${e.id} ${e.name}`:e.id>=10&&e.id<100?`#0${e.id} ${e.name}`:`#${e.id} ${e.name}`,o=$("<h1></h1>");o.text(t);let a=$("<img/>");a.attr("src",e.imageUrl),a.attr("alt","Image of "+e.name),a.addClass("modal-img pokemon-img");let i=$(`<p>${e.types.join(" ")}</p>`);i.addClass("text-center");let n=$("<p></p>");n.addClass("bold-text text-center"),n.text(e.specie);let p=$(`<p><span class="bold-text">Height:</span> ${e.height} m</p>`),s=$(`<p><span class="bold-text">Weight:</span> ${e.weight} kg</p>`),l=$(`<p><span class="bold-text">Abilities:</span> ${e.abilities.join(" / ")}</p>`),r=$(`<p><em>"${e.description}"</em></p>`);$(".modal-title").append(o),$(".modal-body").append(a,i,n,p,s,l,r),$("#poke-loader").remove()})}async function a(e){let t=e.detailsUrl;try{const o=await fetch(t),a=await o.json();e.id=a.id,e.name=i(a.name),e.imageUrl=a.sprites.other["official-artwork"].front_default,e.height=a.height/10,e.weight=a.weight/10,e.types=[],a.types.forEach(function(t){e.types.push(`<span class="${t.type.name}">${i(t.type.name)}</span>`)}),e.abilities=[],a.abilities.forEach(function(t){e.abilities.push(i(t.ability.name))}),urlMoreData="https://pokeapi.co/api/v2/pokemon-species/"+e.id;try{const t=await fetch(urlMoreData),o=await t.json();e.specie=o.genera[7].genus,descriptionEng=o.flavor_text_entries.filter(e=>"en"===e.language.name),e.description=descriptionEng[descriptionEng.length-1].flavor_text.replace(/[\n \f]/g," ")}catch(e){console.error(e)}}catch(e){console.error(e)}}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}return{loadPokedex:async function(o){e=[];try{const e=await fetch(o);(await e.json()).results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}catch(e){console.error(e)}},addPokemon:t,getPokedex:function(){return e},addPokedexEntry:function(e){let t=$("#pokedex"),a=$("<button></button>");a.attr("type","button"),a.addClass("btn btn-danger m-2"),a.attr("data-bs-toggle","modal"),a.attr("data-bs-target","#pokedexModal"),a.text(i(e.name)),t.append(a),a.on("click",function(){!function(){let e=$(".modal-dialog"),t=$("<div></div>");t.attr("id","poke-loader"),e.append(t)}(),o(e)})},showPokemon:o,loadPokemonData:a}}();function genSelector(e){let t;switch(e){case 1:t="https://pokeapi.co/api/v2/pokemon/?offset=0&limit=151";break;case 2:t="https://pokeapi.co/api/v2/pokemon/?offset=151&limit=100";break;case 3:t="https://pokeapi.co/api/v2/pokemon/?offset=251&limit=135";break;case 4:t="https://pokeapi.co/api/v2/pokemon/?offset=386&limit=107";break;case 5:t="https://pokeapi.co/api/v2/pokemon/?offset=493&limit=156";break;case 6:t="https://pokeapi.co/api/v2/pokemon/?offset=649&limit=72";break;case 7:t="https://pokeapi.co/api/v2/pokemon/?offset=721&limit=88";break;case 8:t="https://pokeapi.co/api/v2/pokemon/?offset=809&limit=89";break;case"all":t="https://pokeapi.co/api/v2/pokemon/?offset=0&limit=898"}$("#pokedex").empty(),pokedexBuilder(t)}function pokedexBuilder(e){pokemonRepository.loadPokedex(e).then(function(){pokemonRepository.getPokedex().forEach(function(e){pokemonRepository.addPokedexEntry(e)})})}function filterPokemon(){$(document).ready(function(){$("#search-pokemon").on("keyup",function(){var e=$(this).val().toLowerCase();$("#pokedex button").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})})}